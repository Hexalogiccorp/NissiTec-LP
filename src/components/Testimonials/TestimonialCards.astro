---
const { stars, testimonial, clientName, clientRole } = Astro.props;
const starsArray = Array.from({ length: stars });
---

<div class="testimonial-card">
  <div class="stars-rating">
    {
      starsArray.map(() => (
        <svg class="star" viewBox="0 0 20 20" fill="currentColor">
          <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
        </svg>
      ))
    }
  </div>

  <p class="testimonial-text">
    {testimonial}
  </p>

  <div class="client-info">
    <img
      src="/placeholder.svg?height=40&width=40"
      alt="María López"
      class="client-avatar"
    />
    <div class="client-details">
      <h4 class="client-name">{clientName}</h4>
      <p class="client-role">{clientRole}</p>
    </div>
  </div>
</div>

<style>
  .testimonial-card {
    background-color: #ffffff;
    border-radius: 0.75rem;
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -1px rgba(0, 0, 0, 0.06);
    padding: 2rem;
    transition: all 0.3s ease;
  }

  .testimonial-card:hover {
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.1),
      0 4px 6px -2px rgba(0, 0, 0, 0.05);
    transform: translateY(-2px);
  }
  .stars-rating {
    display: flex;
    gap: 0.25rem;
    margin-bottom: 1rem;
  }
  .star {
    width: 1.25rem;
    height: 1.25rem;
    color: #fbbf24;
  }

  .client-info {
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }
  .client-avatar {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    object-fit: cover;
  }
  .client-details {
    flex: 1;
  }
  .client-name {
    font-size: 1rem;
    font-weight: 600;
    color: var(--black);
    margin: 0 0 0.25rem 0;
  }
  .testimonial-text {
    color: var(--text-color);
    line-height: 1.6;
    margin-bottom: 1.5rem;
    font-style: italic;
    font-size: 1rem;
  }
  .client-role {
    font-size: 0.875rem;
    color: var(--text-color);
    margin: 0;
  }

  @media (max-width: 767px) {
    .testimonial-card {
      padding: 1.5rem;
    }
    .testimonial-text {
      font-size: 0.9rem;
    }
    .client-name {
      font-size: 0.9rem;
    }
    .client-role {
      font-size: 0.8rem;
    }
  }
  @media (max-width: 480px) {
    .testimonial-card {
      padding: 1rem;
    }
    .star {
      width: 1rem;
      height: 1rem;
    }
    .testimonial-text {
      font-size: 0.85rem;
      margin-bottom: 1rem;
    }
    .client-info {
      gap: 0.5rem;
    }
    .client-avatar {
      width: 2rem;
      height: 2rem;
    }
  }
</style>
